<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--BOOTSTRAP ICONS-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
    />
    <title>Album</title>
    <link rel="stylesheet" href="assets/css/main.css" />
    <script src="assets/js/index.js"></script>
  </head>
  <body>
    <main>
      <!--HERO MOBILE WRAPPER-->
      <div id="hero-mobile-wrapper">
        <!--HERO MOBILE-->
        <div id="hero-mobile">
          <h1>Hero mobile</h1>
        </div>

        <!--ALBUM-TITLE-MOBILE-->
        <div id="album-title-mobile">
          <h1>Album Title Mobile</h1>
        </div>
      </div>

      <!--ALBUM TRACKS MOBILE-->
      <div id="album-track-mobile">
        <h1>Album track mobile</h1>
        <div class="container">          
          <div class="row mt-4">
            <div class="col-11"><p class="songName">Montanelli - Intro</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">            
            <div class="col-11"><p class="songName">Sciare</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">Gioventù Bruciata</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">Ninnananna per genitori disattenti</p><span class="artistName"><i class="bi bi-file-arrow-down-fill"></i> <i class="bi bi-explicit-fill"></i> Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">L'uomo che inventò il fuoco</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">Irene</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">Senti che cantare questi!</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
          <div class="row">
            <div class="col-11"><p class="songName">Pula</p><span class="artistName">Pinguini Tattici Nucleari</span></div>
            <div class="col-1 p-1 dropdown-trigger" onclick="toggleDropdownMenu(this)"><i class="bi bi-three-dots-vertical" style="cursor: pointer;"></i></div>
          </div>
        </div>        
      </div>

      <style>
        @media (min-width: 500px) {
                #album-track-mobile {
                  display: none !important;
                }
              }  

    
    .dropdown-menu {
      display: block;
      position: fixed;
      color: antiquewhite;
      background-color: rgb(34, 34, 34);
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
      z-index: 100;
      padding: 10px;
      overflow: visible;
    }

    .dropdown-menu::-webkit-scrollbar{
      display: none;
    }

    /* Stili specifici sotto i 500px */
    @media (max-width: 500px) {
      .dropdown-menu {
        width: 100%;
        height: 50%;
        bottom: 0;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
        z-index: 100;
        padding: 10px;
        overflow: auto;
      }
    }

    /* Altri stili per la presentazione */
    .songName {
      font-size: medium;
      font-weight: bold;
      margin-bottom: 0;
    }

    .artistName {
      font-size: small;
      color: gray;
    }

    /* Altri stili per i bottoni nel menu a comparsa */
    .dropdown-menu-button {
      display: block;
      width: 100%;
      text-align: left;
      padding: 0.5rem;
      color: antiquewhite;
      border: none;
      background: none;
      cursor: pointer;
    }
    .dropdown-menu-button:hover{
      background-color: rgb(51, 50, 50);
    }
  </style>

<script>

function toggleDropdownMenu(element) {
    
    let menu = document.createElement('div');
    menu.classList.add("dropdown-menu")
    let firstRow = document.createElement('div');
    firstRow.style.display = 'flex';
    firstRow.classList.add("justify-content-beetwen")
    let imageDiv = document.createElement('div');
    let textDiv = document.createElement('div');
    
    let songName = element.previousElementSibling.querySelector('.songName').innerText;
    let artistName = element.previousElementSibling.querySelector('.artistName').innerText;

    imageDiv.style.width = '35px';
    imageDiv.style.height = '35px';
    imageDiv.style.backgroundColor = '#000';

    textDiv.innerHTML = '<p>' + songName + '</p><p>' + artistName + '</p>';

    firstRow.appendChild(imageDiv);
    firstRow.appendChild(textDiv);

    menu.appendChild(firstRow);
    let buttons = [
        {icon: 'bi bi-heart', text: 'Mi piace'},
        {icon: 'bi bi-dash-circle', text: 'Nascondi questo brano'},
        {icon: 'bi bi-music-note-beamed', text: 'Aggiungi alla playlist'},
        {icon: 'bi bi-music-note-list', text: 'Aggiungi in coda'},
        {icon: 'bi bi-person', text: 'Visualizza artista'},
        {icon: 'bi bi-share', text: 'Condividi'}
    ];
    for (let i = 0; i < buttons.length; i++) {
        let button = document.createElement('button');
        button.classList.add("dropdown-menu-button")
        let icon = document.createElement('i');
        icon.className = buttons[i].icon;
        button.appendChild(icon);
        button.innerHTML += ' ' + buttons[i].text;
        menu.appendChild(button);
    }
    document.addEventListener('click', function(event) {
  let isClickInsideMenu = menu.contains(event.target);
  let isClickOnTrigger = element.contains(event.target);

  if (!isClickInsideMenu && !isClickOnTrigger) {
    menu.remove();
  }
});

    // Aggiunta del menu al DOM
    document.body.appendChild(menu);
}


</script>

     

      <!--DESKTOP WRAPPER-->
      <div class="container-fluid" id="desktop-wrapper">
        <div class="row">
          <!--NAVBAR DESKTOP-->
          <div id="navbar-desktop" class="col-lg-3">
            <h1>Navbar desktop</h1>
          </div>

          <!--CENTER SECTION-->
          <section class="col-lg-7">
            <!--HERO ALBUM-->
            <div id="hero-album">
              <h1>Hero Album</h1>
            </div>

            <!--ALBUM ACTIONS-->
            <div id="album-actions">
              <h1>Album Actions</h1>
            </div>

            <!--ALBUM TRACKS-->
            
            <div id="album-tracks">
              <h1>Album tracks</h1>
              <div class="container">
                <div class="row mb-2">
                  <div class="col-lg-6">#     TITOLO</div>
                  <div class="col-lg-3">RIPRODUZIONI</div>
                  <div class="col-lg-3"><i class="bi bi-clock"></i></div>
                </div>
                <div class="row mt-4">
                  <div class="col-lg-1">1</div>
                  <div class="col-lg-5 flex-grow-1"><p>Montanelli - Intro<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3 track">694.578</div>
                  <div class="col-lg-3">1:28</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">2</div>
                  <div class="col-lg-5 flex-grow-1"><p>Sciare<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">5.585.178</div>
                  <div class="col-lg-3">4:41</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">3</div>
                  <div class="col-lg-5 flex-grow-1"><p>Gioventù Bruciata<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">3.412.342</div>
                  <div class="col-lg-3">5:24</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">4</div>
                  <div class="col-lg-5 flex-grow-1"><p>Ninnananna per genitori disattenti<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">2.36.629</div>
                  <div class="col-lg-3">4:01</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">5</div>
                  <div class="col-lg-5 flex-grow-1"><p>L'uomo che inventò il fuoco<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">3.417.862</div>
                  <div class="col-lg-3">5:23</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">6</div>
                  <div class="col-lg-5 flex-grow-1"><p>Irene<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">17.249.689</div>
                  <div class="col-lg-3">5:11</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">7</div>
                  <div class="col-lg-5 flex-grow-1"><p>Senti che cantare questi!<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">760.496</div>
                  <div class="col-lg-3">1:11</div>
                </div>
                <div class="row">
                  <div class="col-lg-1">8</div>
                  <div class="col-lg-5 flex-grow-1"><p>Pula<br><span>Pinguini Tattici Nucleari</span></p></div>
                  <div class="col-lg-3">899.318</div>
                  <div class="col-lg-3">5:46</div>
                </div>
              </div>
            </div>     
            <style>
              @media (max-width: 500px) {
                #album-tracks {
                  display: none !important;
                }
              }
              .col-lg-1{
                width: 2rem;
              }
            </style>       
          </section>

          <!--FRIENDS-->
          <div id="friends" class="col-lg-2">
            <h1>Friends</h1>
          </div>
        </div>
      </div>

      <!--PLAYER DESKTOP-->
      <div id="player-desktop"><h1>Player desktop</h1></div>

      <!--PLAYER-MOBILE-->
      <div id="player-mobile"><h1>Player mobile</h1></div>

      <!--NAVBAR MOBILE-->
      <div id="navbar-mobile"><h1>Navbar mobile</h1></div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
